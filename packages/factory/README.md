# @macro-plugin/factory

Macro factories for simplify the process of creating swc AST.

Given an exmaple,

```js
import { createIdentifier } from "@macro-plugin/factory"

createIdentifier("hello")

// {
//     type: "Identifier",
//     value: "hello",
//     optional: false,
//     span: {
//         start: 0,
//         end: 0,
//         ctxt: 0
//     }
// }

```

Or with macros

```js
import { $Identifier } from "@macro-plugin/factory"

$Identifier("hello")
```

## Runtime vs Macros

The results generated by macros and runtime are the same in theory, but macros performance may be better.

For example, with runtime, if you use `createIdentifier` api, then the `function createIdentifier` will be bundled to your macro plugin.

If you use `$Identifier`, macro-plugin will replace your call with raw object `{ type: "Identifier", ... }`. So it will perform better.

## Built-in factory

### Runtime

See [runtime](./src/runtime.ts)

### Macros

See [macros](./src/macros.ts)

> The workload of macros is a little heavy, and it has not been completed yet. It's recommended to use runtime for now, then switch to macros later.